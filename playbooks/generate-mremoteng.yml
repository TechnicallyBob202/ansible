---
# =============================================================================
# Generate mRemoteNG Configuration
# =============================================================================
# Standalone playbook to generate mRemoteNG XML files from current inventory
# Detects ADFR vs DSP inventory and generates appropriate configuration

- name: Generate mRemoteNG Configuration
  hosts: localhost
  gather_facts: true

  tasks:
    - name: Display generation plan
      debug:
        msg:
          - "========================================="
          - "  Generate mRemoteNG Configuration"
          - "========================================="
          - ""
          - "Detecting inventory type and generating"
          - "appropriate mRemoteNG connection file..."

    - name: Generate mRemoteNG
      include_tasks: ../roles/utility/tasks/generate_mremoteng.yml

    - name: Commit and push to git
      include_tasks: ../roles/utility/tasks/git_commit_docs.yml

    - name: Display completion
      debug:
        msg:
          - ""
          - "========================================="
          - "  mRemoteNG Generation Complete"
          - "========================================="
          - ""
          - "Configuration file(s) generated, committed, and pushed"