---
# Set hostname on Linux system

- name: Get current hostname
  ansible.builtin.command: hostname
  register: current_hostname
  changed_when: false

- name: Set hostname
  ansible.builtin.hostname:
    name: "{{ inventory_hostname }}"
  become: true
  register: hostname_result
  when: current_hostname.stdout | trim != inventory_hostname

- name: Display result
  debug:
    msg: "{{ inventory_hostname }} - Hostname {{ 'configured' if (hostname_result.changed | default(false)) else 'already correct' }}"