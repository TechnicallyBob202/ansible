---
# Main task file for proxmox role
# Routes to specific task files based on operation

- name: Include IP discovery tasks
  include_tasks: discover_ip.yml
  when: proxmox_operation == 'discover_ip'

- name: Include clone tasks
  include_tasks: clone.yml
  when: proxmox_operation == 'clone'

- name: Include configure network tasks
  include_tasks: configure_network.yml
  when: proxmox_operation == 'configure_network'

- name: Include configure hardware tasks
  include_tasks: configure_hardware.yml
  when: proxmox_operation == 'configure_hardware'

- name: Include start tasks
  include_tasks: start.yml
  when: proxmox_operation == 'start'

- name: Include stop tasks
  include_tasks: stop.yml
  when: proxmox_operation == 'stop'

- name: Include destroy tasks
  include_tasks: destroy.yml
  when: proxmox_operation == 'destroy'

- name: Include snapshot tasks
  include_tasks: snapshot.yml
  when: proxmox_operation == 'snapshot'

- name: Include full deploy tasks (clone + configure + start)
  include_tasks: deploy.yml
  when: proxmox_operation == 'deploy'