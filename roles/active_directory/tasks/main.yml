---
# Main task file for activeDirectory role
# Routes to specific task files based on operation

- name: Include DC status check tasks
  include_tasks: check_dc_status.yml
  when: ad_operation == 'check_dc_status'

- name: Include AD features installation tasks
  include_tasks: install_ad_features.yml
  when: ad_operation == 'install_ad_features'

- name: Include forest root promotion tasks
  include_tasks: promote_forest_root.yml
  when: ad_operation == 'promote_forest_root'

- name: Include replica DC promotion tasks
  include_tasks: promote_replica_dc.yml
  when: ad_operation == 'promote_replica_dc'

- name: Include child domain promotion tasks
  include_tasks: promote_child_domain.yml
  when: ad_operation == 'promote_child_domain'