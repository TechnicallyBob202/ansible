---
all:
  children:
    # ============================================
    # D1.lab Forest - Single Domain
    # ============================================
    d1_forest:
      children:
        d1_dcs:
          hosts:
            D1-DC01:
              ansible_host: 172.16.10.10
              dc_role: pdc
              vmid: 1010
              proxmox_host: 192.168.33.21
              proxmox_node: semperis-nuc-1
              template_id: 9001
              vm_cores: 2
              vm_memory: 4096
              vm_disk: 80G
              proxmox_vm_tags: "adfr,ad"

            D1-DC02:
              ansible_host: 172.16.10.11
              dc_role: replica
              vmid: 1011
              proxmox_host: 192.168.33.22
              proxmox_node: semperis-nuc-2
              template_id: 9002
              vm_cores: 2
              vm_memory: 4096
              vm_disk: 80G
              proxmox_vm_tags: "adfr,ad"

          vars:
            domain_name: d1.lab
            netbios_name: D1

    # ============================================
    # D2.lab Forest - Parent + 2 Children
    # ============================================
    d2_forest:
      children:
        d2_parent_dcs:
          hosts:
            D2-DC01:
              ansible_host: 172.16.20.10
              dc_role: pdc
              vmid: 2010
              proxmox_host: 192.168.33.21
              proxmox_node: semperis-nuc-1
              template_id: 9001
              vm_cores: 2
              vm_memory: 4096
              vm_disk: 80G
              proxmox_vm_tags: "adfr,ad"

            D2-DC02:
              ansible_host: 172.16.20.11
              dc_role: replica
              vmid: 2011
              proxmox_host: 192.168.33.22
              proxmox_node: semperis-nuc-2
              template_id: 9002
              vm_cores: 2
              vm_memory: 4096
              vm_disk: 80G
              proxmox_vm_tags: "adfr,ad"

          vars:
            domain_name: d2.lab
            netbios_name: D2

        d21_child_dcs:
          hosts:
            D21-DC01:
              ansible_host: 172.16.21.10
              dc_role: pdc
              vmid: 2110
              proxmox_host: 192.168.33.21
              proxmox_node: semperis-nuc-1
              template_id: 9001
              vm_cores: 2
              vm_memory: 4096
              vm_disk: 80G
              proxmox_vm_tags: "adfr,ad"

            D21-DC02:
              ansible_host: 172.16.21.11
              dc_role: replica
              vmid: 2111
              proxmox_host: 192.168.33.22
              proxmox_node: semperis-nuc-2
              template_id: 9002
              vm_cores: 2
              vm_memory: 4096
              vm_disk: 80G
              proxmox_vm_tags: "adfr,ad"

          vars:
            domain_name: d21.d2.lab
            netbios_name: D21
            parent_domain: d2.lab
            parent_domain_netbios: D2

        d22_child_dcs:
          hosts:
            D22-DC01:
              ansible_host: 172.16.22.10
              dc_role: pdc
              vmid: 2210
              proxmox_host: 192.168.33.21
              proxmox_node: semperis-nuc-1
              template_id: 9001
              vm_cores: 2
              vm_memory: 4096
              vm_disk: 80G
              proxmox_vm_tags: "adfr,ad"

            D22-DC02:
              ansible_host: 172.16.22.11
              dc_role: replica
              vmid: 2211
              proxmox_host: 192.168.33.22
              proxmox_node: semperis-nuc-2
              template_id: 9002
              vm_cores: 2
              vm_memory: 4096
              vm_disk: 80G
              proxmox_vm_tags: "adfr,ad"

          vars:
            domain_name: d22.d2.lab
            netbios_name: D22
            parent_domain: d2.lab
            parent_domain_netbios: D2

    # ============================================
    # ADFR Infrastructure
    # ============================================
    adfr_infrastructure:
      hosts:
        ADFR:
          ansible_host: 172.16.30.10
          vmid: 3010
          proxmox_host: 192.168.33.21
          proxmox_node: semperis-nuc-1
          template_id: 9011
          vm_cores: 4
          vm_memory: 8192
          vm_disk: 100G
          proxmox_vm_tags: "adfr"
          role: "ADFR Management Server"

        DP1:
          ansible_host: 172.16.30.11
          vmid: 3011
          proxmox_host: 192.168.33.22
          proxmox_node: semperis-nuc-2
          template_id: 9012
          vm_cores: 2
          vm_memory: 4096
          vm_disk: 500G
          proxmox_vm_tags: "adfr"
          role: "Distribution Point 1"

        DP2:
          ansible_host: 172.16.30.12
          vmid: 3012
          proxmox_host: 192.168.33.21
          proxmox_node: semperis-nuc-1
          template_id: 9011
          vm_cores: 2
          vm_memory: 4096
          vm_disk: 500G
          proxmox_vm_tags: "adfr"
          role: "Distribution Point 2"

    # ============================================
    # Recovery VMs
    # ============================================
    adfr_recovery:
      hosts:
        REC01:
          ansible_host: 172.16.11.10
          vmid: 1110
          proxmox_host: 192.168.33.21
          proxmox_node: semperis-nuc-1
          template_id: 9001
          vm_cores: 2
          vm_memory: 4096
          vm_disk: 80G
          proxmox_vm_tags: "adfr"
          role: "Recovery VM"

        REC02:
          ansible_host: 172.16.11.11
          vmid: 1111
          proxmox_host: 192.168.33.22
          proxmox_node: semperis-nuc-2
          template_id: 9002
          vm_cores: 2
          vm_memory: 4096
          vm_disk: 80G
          proxmox_vm_tags: "adfr"
          role: "Recovery VM"

        REC03:
          ansible_host: 172.16.23.10
          vmid: 2310
          proxmox_host: 192.168.33.21
          proxmox_node: semperis-nuc-1
          template_id: 9001
          vm_cores: 2
          vm_memory: 4096
          vm_disk: 80G
          proxmox_vm_tags: "adfr"
          role: "Recovery VM"

        REC04:
          ansible_host: 172.16.23.11
          vmid: 2311
          proxmox_host: 192.168.33.22
          proxmox_node: semperis-nuc-2
          template_id: 9002
          vm_cores: 2
          vm_memory: 4096
          vm_disk: 80G
          proxmox_vm_tags: "adfr"
          role: "Recovery VM"

    # ============================================
    # Logical Groupings
    # ============================================
    domain_controllers:
      children:
        d1_forest:
        d2_forest:

    infrastructure:
      children:
        adfr_infrastructure:

    recovery_vms:
      children:
        adfr_recovery: